# PROOF User Guide - Moderator & Admin

> For platform moderators and administrators

---

## Role Overview

### Moderator Responsibilities

| Area | Tasks |
|------|-------|
| **Flag Review** | Review and resolve automated and community flags |
| **Report Moderation** | Approve/reject monthly reports |
| **Concern Resolution** | Escalate or close concerns |
| **Content Moderation** | Remove policy-violating content |
| **User Support** | Handle disputes and questions |

### Admin Responsibilities (Additional)

| Area | Tasks |
|------|-------|
| **User Management** | Assign roles, handle bans |
| **Data Operations** | Run ingestion, fix data issues |
| **System Configuration** | Feature flags, thresholds |
| **Connection Management** | Create verified entity links |
| **Audit Review** | Review moderation logs |

---

## Flag Review Workflow

### Accessing the Queue

Navigate to `/flags` or `/admin/flags`

### Flag Types

| Type | Source | Description |
|------|--------|-------------|
| **Automated** | System | Generated by detection algorithms |
| **Community** | Users | Submitted by community members |

### Automated Flag Categories

| Flag | Trigger Condition |
|------|-------------------|
| **repeat_delays** | Person has >2 incomplete funded projects |
| **similar_proposal** | >76% text similarity with another proposal |
| **abandoned** | No activity/reports in 6+ months |
| **overdue_milestone** | Milestone past due date without completion |
| **funding_cluster** | Unusual funding concentration patterns |

### Flag Severity Levels

| Severity | Meaning | Action Timeline |
|----------|---------|-----------------|
| **Low** | Minor concern, informational | Review within 1 week |
| **Medium** | Moderate concern, needs attention | Review within 48 hours |
| **High** | Serious concern, requires action | Review within 24 hours |
| **Critical** | Urgent issue, potential fraud | Immediate review |

### Review Process

1. **Open Flag**
   - Read description and evidence
   - Check linked project/person
   - Review historical context

2. **Investigate**
   - Verify claims against data sources
   - Check external links (GitHub, etc.)
   - Review related flags on same entity

3. **Take Action**

| Action | When to Use |
|--------|-------------|
| **Confirm** | Flag is valid and should be visible |
| **Dismiss** | Flag is invalid or already resolved |
| **Request Info** | Need more evidence before deciding |
| **Escalate** | Needs admin review (serious issues) |

4. **Document Decision**
   - Add moderator notes
   - Notes are logged in audit trail
   - Be specific about reasoning

### Example Review

```
Flag: repeat_delays on Person "John Smith"
Trigger: 3 incomplete projects from F10, F11, F12

Investigation:
- F10 project: Marked complete (verify: ✓)
- F11 project: Still in progress, reports current
- F12 project: In progress, last report 2 weeks ago

Decision: DISMISS
Reason: F10 completed; F11/F12 show active progress. 
System incorrectly flagged based on status, not activity.
```

---

## Report Moderation

### Accessing Reports

Navigate to `/reports` or `/admin/reports`

### Report Review Criteria

| Criteria | Questions |
|----------|-----------|
| **Content Quality** | Is the report substantive? Does it describe actual progress? |
| **Evidence** | Are claims supported with links/artifacts? |
| **Accuracy** | Does the report match observable progress? |
| **Guidelines** | Does it follow submission guidelines? |

### Actions

| Action | When to Use |
|--------|-------------|
| **Approve** | Report meets all criteria, publish |
| **Request Changes** | Needs improvement but acceptable with edits |
| **Reject** | Violates guidelines or contains false information |

### Rejection Reasons

When rejecting, select from:
- **Insufficient Detail**: Report lacks substance
- **No Evidence**: Claims not supported
- **Inaccurate**: Information contradicts known facts
- **Policy Violation**: Contains inappropriate content
- **Duplicate**: Same content as previous report

Always provide specific feedback for rejections.

---

## Concern Management

### When to Intervene

- Concern has no response after 7 days
- Multiple concerns on same issue
- Concern escalated by user
- Evidence suggests serious issue

### Moderator Actions on Concerns

| Action | Effect |
|--------|--------|
| **Verify** | Mark concern as verified by moderator |
| **Close** | Issue resolved or not actionable |
| **Escalate** | Convert to flag for higher visibility |
| **Remove** | Delete if violates guidelines |

### Concern vs. Flag

- **Concerns**: Project-specific issues, require response
- **Flags**: Pattern-based warnings, informational

Escalate concern to flag when:
- Issue represents systemic problem
- Multiple concerns indicate pattern
- Project team non-responsive

---

## Content Moderation

### Policy Violations

Remove content that:
- Contains personal attacks or harassment
- Includes doxxing or private information
- Is spam or promotional
- Contains false claims presented as fact
- Violates community guidelines

### Removal Process

1. Document the violation
2. Remove content
3. Notify user with reason
4. Log action in audit trail

### User Warnings

| Offense | Action |
|---------|--------|
| **First** | Warning, content removed |
| **Second** | 7-day restriction |
| **Third** | 30-day restriction |
| **Severe/Repeated** | Permanent ban (admin only) |

---

## Admin: User Management

### Role Assignment

Navigate to `/admin/users`

| Role | Capabilities |
|------|--------------|
| **MEMBER** | Reviews, concerns, bookmarks |
| **PROPOSER** | Above + project claims, reports |
| **REVIEWER** | Above + templates, dashboard |
| **MODERATOR** | Above + moderation tools |
| **ADMIN** | Full platform access |

### Changing Roles

1. Find user by email or display name
2. Click **Edit**
3. Select new role
4. Add reason for change
5. Save (logged in audit)

### Banning Users

1. Find user
2. Click **Ban**
3. Select duration (temp or permanent)
4. Provide reason
5. Confirm

Banned users cannot:
- Log in
- Submit content
- Appear in rankings

---

## Admin: Data Operations

### Running Ingestion

Navigate to `/admin/data` or use command line:

```bash
# Catalyst proposals
npx tsx scripts/ingest-catalyst.ts

# Milestones (requires JSON file)
npx tsx scripts/ingest-milestones.ts --payload ./data/milestones.json

# GitHub metrics (specific project)
npx tsx scripts/sync-github.ts --project <id>

# Recalculate all ROI scores
npx tsx scripts/recalculate-roi.ts
```

### Data Health Monitoring

Navigate to `/admin/health`

Check for:
- **Stale Records**: Data not updated recently
- **Missing Fields**: Required fields without values
- **Broken Links**: External URLs returning errors
- **Ingestion Errors**: Failed sync operations

### Fixing Data Issues

For incorrect data:
1. Identify source of truth
2. Update via Prisma Studio or API
3. Log the correction
4. Re-run affected calculations

---

## Admin: Connection Management

### Creating Connections

Navigate to `/admin/connections`

Link entities that the system didn't automatically connect:

| Connection Type | Use Case |
|-----------------|----------|
| **Person → Project** | Team member not in API data |
| **Person → Organization** | Verify company affiliation |
| **Organization → Project** | Company behind proposal |
| **Person Merge** | Combine duplicate identities |

### Verification Levels

| Level | Meaning |
|-------|---------|
| **Automated** | Created by system algorithms |
| **Community** | Suggested by users |
| **Verified** | Confirmed by moderator |
| **Disputed** | Under review |

---

## Audit Trail

### What's Logged

Every moderator/admin action is recorded:
- Who took action
- What action was taken
- When it occurred
- Reason provided
- Previous state (for reverts)

### Accessing Logs

Navigate to `/admin/audit`

Filter by:
- Action type
- User
- Date range
- Entity affected

### Why It Matters

- **Accountability**: Moderators are accountable for decisions
- **Appeals**: Users can reference specific decisions
- **Patterns**: Identify inconsistent moderation
- **Training**: Learn from past decisions

---

## Best Practices

### Decision Consistency

- Apply same standards to all users/projects
- Document reasoning for edge cases
- Consult other moderators when uncertain
- Review your decisions periodically

### Communication

- Be professional and neutral
- Explain decisions clearly
- Respond to appeals promptly
- Don't engage in arguments

### Escalation

Escalate to admin when:
- Potential fraud or serious violation
- Legal concerns
- System abuse patterns
- Unclear policy situations

### Self-Care

- Take breaks during heavy moderation
- Don't take attacks personally
- Discuss difficult cases with team
- Report harassment of moderators
